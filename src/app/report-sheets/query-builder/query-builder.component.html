
<!-- view for table -->

<div class="container-fluid mt-1" *ngIf="view === 0">
  <div class="row p-3 pl-4">
    <div class="col-md-6">
      <h1 class="text-bold">Query Builder Table</h1>
    </div>

    <div class="col-md-2 offset-md-4 pr-0">
      <button class="btn btn-block btn-primary " (click)="configure()"><i class="flaticon-add mr-2"></i>Configure</button>
    </div>
  </div>
  <div class="row p-2 pl-4 mt-5">
    <div class="col-md-12">
      
      <div class="row">
        <div class="col-md-12">
          <div class="panel">
            <div class="panel-body">
              <table class="table table-borderless table-align">
                <thead>
                  <tr>
                    <th>Title</th>
                    <th> Description</th>
                    <th>Content</th>                    
                    <th>Actions</th>                    
                    <th></th>                    
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of queries">
                    <td>{{item.title}}</td>
                    <td>{{item.description}}</td>
                    <td>{{item.content}}</td>
                    <td><a (click)="updateQuery(item.id)"> <span><i class="flaticon-pencil"></i></span></a></td>
                    <td><a class="btn btn-danger round-table-button" (click)="Delete(item.id)">-</a></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



<!-- view for form new -->

<div class="container-fluid mt-1" *ngIf="view === 1">
  <div class="row p-3 pl-4">
    <div class="col-md-12">
      <h1 class="text-bold">Query Builder Form</h1>
    </div>
  </div>

  <div class="col-md">
    <div class="card panel">
      <div class="card-body form-card">
        <!-- <form> -->
          <div class="panel-group" role="tablist" aria-multiselectable="true">
            <div class="panel-default">
              <div class="panel-heading" role="tab" id="headingBasic">
                <div class="float-left form-icon text-center mr-3">
                  <span class="flaticon-paper  primary-color"></span>
                </div>
                <h4 class="panel-title font-weight-bold secondary-color mb-0" #basic>
                  Query Builder Details
                </h4>
                <p class="subtitle mb-0  ">Please fill in the appropriate data </p>
              </div>
              <div id="collapseBasic" class="panel-collapse collapse show" role="tabpanel"
                aria-labelledby="headingBasic">
                <div class="panel-body">
                  <div class="col-sm-12 col-md-10 offset-md-1">
                    <div class="form-body">

                      <div class="row">
                        <div class="col-md-6">
                          <div class="form-group row mr-2">
                            <!-- <div class="col-md-4"> -->
                                <label for="Connections">Connections</label>
                              <!-- </div> -->
                            <!-- <div class="col-md-12"> -->
                                <select  id="mySelect" [(ngModel)]="connections.title" class="form-control search" >
                                    <option value="">&lt;-------&gt;</option>
                                    <option *ngFor="let v of connections" [value]="v.title">{{v.title}}</option>
                                </select>
                          <!-- </div> -->
                        </div>                     
                      </div>

                      <div class="col-md-6">
                        <div class="form-group row ml-2">
                          <!-- <div class="col-md-4"> -->
                            <label for="title"> Title</label>

                          <!-- </div> -->
                          <!-- <div class="col-md-8"> -->

                            <input type="text" name="title" class="form-control" [(ngModel)]="que.title" class="search">
                          <!-- </div> -->

                        </div>
                      </div>
                    </div>

                    <div class="row">
                     
                      <div class="col-md-12">
                        <div class="form-group row">
                          <!-- <div class="col-md-4"> -->
                            <label for="title"> Description</label>

                          <!-- </div> -->
                          <!-- <div class="col-md-8"> -->
                            <textarea name="description" id="" class="form-control search" [(ngModel)]="que.description"></textarea>

                          <!-- </div> -->

                        </div>
                      </div>
                    </div>

                    <div class="row">
                      <!-- <div class="col-md-4">
                          Switch to enter queries manually
                      </div>
                      <div class="col-md-2">
                          <label class="switch">
                              <input type="checkbox" [(ngModel)]="booleanVal" (ngOnChange)="onChange($event)">
                              <span class="slider round"></span>
                            </label>      
                      </div>                       -->

                      <div class="col-md-2">
                        Query
                      </div>
                      <div class="col-md-2">
                        <input type="radio" class="radio" id="manually" name="drone" [checked]="isManual" (click)="setradio('manually')">
                        <label class="labelradio ml-2" for="manually">Manually</label>
                      </div>
                      <div class="col-md-2">
                        <input type="radio"  class="radio" id="builder" name="drone"  [checked]="!isManual" (click)="setradio('builder')">
                        <label class="labelradio ml-2" for="builder">Use Builder</label>
                      </div>
                    </div>                 
                    <!-- <div class="row">
                      <div class="col-md-6" *ngIf="booleanVal">
                        <div class="row">
                          <div class="col-md-4">
                              <label for="table" >Table</label>
                          </div>
                          <div class="col-md-7">
                              <select (change)="Change($event)" class="form-control" [disabled] ='disable'>
                                <option *ngFor="let v of tables" [value]="v">{{v}}</option>
                              </select>
                          </div>
                          <div class="col-md-1"  *ngIf="isValues">
                              <i class="flaticon-add btn-outline-primary" (click)= "enable()"></i>
                          </div>
                        </div>
                      </div>

                      <div class="col-md-6" *ngIf="!booleanVal">
                        <div class="row">
                          <div class="col-md-4">
                              <label for="table" >Query</label>
                          </div>
                          <div class="col-md-7">
                             <textarea name="content" id="" class="form-control"  [(ngModel)]="que.content"></textarea>
                          </div>
                          <div class="col-md-1"  *ngIf="isValues">
                              <i class="flaticon-add btn-outline-primary" (click)= "enable()"></i>
                          </div>
                        </div>
                      </div>


                      <div class="col-md-6" *ngIf="isShow">
                        <div class="row">
                          <div class="col-md-4">
                              <label for="select" >Table</label>
                          </div>
                          <div class="col-md-7">
                              <select class="form-control">
                                  <option *ngFor="let v of rem" [value]="v">{{v}}</option>
                              </select>
                          </div>

                          <div class="col-md-1" *ngIf="isShows">
                              <i class="flaticon-add btn-outline-primary"></i>
                          </div>
                        </div>

                      </div>
                       
                      </div> -->
                  </div>
                </div>
              </div>
            </div>

             
              
                  <div class="form-body" *ngIf="isManual">
                    <textarea class="m-0 p-5 largetext col-md-12"  rows="12"></textarea>
                </div>


                    <div class="panel-body build" *ngIf="!isManual">
                      <div class="row">
                        <div class="col-md-12">
                           <h4 class="font-weight-bold pl-5">
                              Builder
                          </h4>
                        </div>
                      </div>
                        <div class="col-sm-12 col-md-10 offset-md-1">
                          <div class="form-body">
                            <div class="row">
                              <div class="col-md-4">
                                <div class="form-group row mr-2">
                                      <label for="Connections">Table <sup>*</sup></label>
                                      <select  id="mySelect" [(ngModel)]="connections.title" class="form-control search" >
                                          <option value="">&lt;-------&gt;</option>
                                          <option *ngFor="let v of connections" [value]="v.title">{{v.title}}</option>
                                      </select>
                              </div>                     
                            </div>
      
                            <div class="col-md-2 m">
                                <button class="btn btn-primary btn-block">Add extra table</button>
                            </div>

                          </div>
      
                          <div class="row">
                            <div class="col-md-4">
                                <div class="form-group row mr-2">
                                    <label for="Connections">Column<sup>*</sup></label>
                                    <select  id="mySelect" [(ngModel)]="connections.title" class="form-control search" >
                                        <option value="">&lt;-------&gt;</option>
                                        <option *ngFor="let v of connections" [value]="v.title">{{v.title}}</option>
                                    </select>
                              </div>                     
                            </div>
                            <div class="col-md-3">

                                <label for="Connections">Aggregate(Optional)</label>
                               <input type="text" class="search">
                            </div>
                            <div class="col-md-3">

                                <label for="Connections">Alias(Optional)</label>
                                <input type="text" class="search">
                            </div>
                            <div class="col-md-2 m">
                                <button class="btn btn-primary btn-block">Save column</button>
                            </div>
                          </div>

                          </div>
                        </div>
                          
                          <div class="panel-body largetext">

                          <div class="form-body row b ">
                              <div class="col-md-2 text-right pl-0 pr-0" style="padding-top: 0.3rem;">
                                  <h6 class="text-bold mb-0">Filter</h6>
                              </div>
                              <div class="col-md-6">
                                <a class="btn btn-primary round-table-button" title="Add filter" theme="dark"  tooltip="Tooltip" placement="right" show-delay="500">+</a>
                              </div>
                            </div>

                          </div>

                          <div class="panel-body">

                          <div class="row">
                              <div class="col-sm-12 col-md-10 offset-md-1">
                                  <div class="form-group row mr-2 col-md-10">
                                      <label for="Connections">Group By</label>
                                      <select  id="mySelect" [(ngModel)]="connections.title" class="form-control search" >
                                          <option value="">&lt;-------&gt;</option>
                                          <option *ngFor="let v of connections" [value]="v.title">{{v.title}}</option>
                                      </select>
                                </div>                     
                              </div>
                          </div>
                          <div class="row">
                              <div class="col-sm-12 col-md-10 offset-md-1">
                                  <div class="form-group row mr-2">
      
                            <div class="col-md-4">

                                <div class="form-group row mr-2">

                                <label for="Connections">Order By</label>
                                <select  id="mySelect" [(ngModel)]="connections.title" class="form-control search" >
                                    <option value="">&lt;-------&gt;</option>
                                    <option *ngFor="let v of connections" [value]="v.title">{{v.title}}</option>
                                </select>
                              </div> 
                            </div>
                            <div class="col-md-2 m">
                              <input type="radio" class="radio" id="manually" name="drone" [checked]="isManual" (click)="setradio('manually')">
                              <label class="labelradio ml-2" for="manually">Manually</label>
                            </div>
                            <div class="col-md-2 m">
                              <input type="radio"  class="radio" id="builder" name="drone"  [checked]="!isManual" (click)="setradio('builder')">
                              <label class="labelradio ml-2" for="builder">Use Builder</label>
                            </div>
                            <div class="col-md-2 m">
                              <button class="btn btn-primary">Save Order</button>
                            </div>
                           
                          </div>  
                          </div>  
                          </div>  
                          
                          <div class="row">
                              <div class="col-sm-12 col-md-10 offset-md-1">
                                  <div class="form-group row mr-2">
                            <div class="col-md-4">
                                <div class="form-group row mr-2">

                              <label for="limit">Limit</label>
                              <input type="text" class="search">
                            </div>
                          </div>
                          </div>
                          </div>
                          </div>
                          <!-- <div class="row">
                            <div class="col-md-6" *ngIf="booleanVal">
                              <div class="row">
                                <div class="col-md-4">
                                    <label for="table" >Table</label>
                                </div>
                                <div class="col-md-7">
                                    <select (change)="Change($event)" class="form-control" [disabled] ='disable'>
                                      <option *ngFor="let v of tables" [value]="v">{{v}}</option>
                                    </select>
                                </div>
                                <div class="col-md-1"  *ngIf="isValues">
                                    <i class="flaticon-add btn-outline-primary" (click)= "enable()"></i>
                                </div>
                              </div>
                            </div>
      
                            <div class="col-md-6" *ngIf="!booleanVal">
                              <div class="row">
                                <div class="col-md-4">
                                    <label for="table" >Query</label>
                                </div>
                                <div class="col-md-7">
                                   <textarea name="content" id="" class="form-control"  [(ngModel)]="que.content"></textarea>
                                </div>
                                <div class="col-md-1"  *ngIf="isValues">
                                    <i class="flaticon-add btn-outline-primary" (click)= "enable()"></i>
                                </div>
                              </div>
                            </div>
      
      
                            <div class="col-md-6" *ngIf="isShow">
                              <div class="row">
                                <div class="col-md-4">
                                    <label for="select" >Table</label>
                                </div>
                                <div class="col-md-7">
                                    <select class="form-control">
                                        <option *ngFor="let v of rem" [value]="v">{{v}}</option>
                                    </select>
                                </div>
      
                                <div class="col-md-1" *ngIf="isShows">
                                    <i class="flaticon-add btn-outline-primary"></i>
                                </div>
                              </div>
      
                            </div>
                             
                            </div> -->
                      </div>
                    
                </div>
             
           
            <div class="card-footer text-muted">
              <div class="row p-3">
                <div class="col-md-6"></div>
                <div class="col-md-2 text-right"><button class="btn btn-outline-primary btn-block" (click)="Cancel()"
                    type="submit">Cancel</button>
                </div>
                <div class="col-md-2 text-right"><button class="btn btn-primary btn-block" (click)="populate()"
                    type="submit">preview</button>
                </div>
                <div class="col-md-2 text-right">
                  <button class="btn btn-success btn-block" type="submit" (click)="processForm()">Save</button>
                </div>
              </div>
            </div>


            <!-- <div class="row">
              <div class="col-md-10 offset-md-1">

                  <table id="example1" class=" mt-5 table table-borderless" style="width:100%">
                      <thead>
                          <tr>
                              <th>Name</th>
                              <th>title</th>
                              <th>description</th>
                              <th>template</th>
                              <th>templateType</th>
                              <th>defaultExportType</th>
                              <th>ACtions</th>
                          </tr>
                      </thead>
                      <tbody *ngIf="h === 1">
                          <tr *ngFor="let item of datas">
                              <td>{{item.name}}</td>
                              <td>{{item.Position}}</td>
                              <td>{{item.Office}}</td>
                              <td>{{item.Age}}</td>
                              <td>{{item.Date}}</td>
                              <td>{{item.Salary}}</td>
                              <td><a (click)="Edit()"> <span><i class="flaticon-pencil"></i></span></a></td>
                              <td><a class="btn btn-danger round-table-button" (click)="Delete()">-</a></td>
                          </tr>
                      </tbody>
                  </table>
              </div>
            </div> -->
            


          </div>
        <!-- </form> -->
      </div>
    </div>
  </div>
</div>